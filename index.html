<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Misskey絵文字モザイクメーカー</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <div class="header">
    <div class="icon">🧩</div>
    <h1>Misskey絵文字モザイクメーカー</h1>
    <p class="subtitle">画像を絵文字アートに変換 • 3000文字制限対応</p>
  </div>

  <div class="card">
    <div class="upload-area">
      <input type="file" id="imgInput" accept="image/*">
      <label for="imgInput" class="upload-label">
        <svg class="upload-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
        </svg>
        <span class="upload-text">画像を選択またはドロップ</span>
        <span class="upload-subtext">PNG, JPG, GIF対応</span>
      </label>
    </div>

    <button id="generate" class="generate-btn">
      <span>✨ 生成する</span>
    </button>

    <div id="status" class="status"></div>
    
    <canvas id="canvas" class="preview-canvas"></canvas>
    
    <div class="output-container" id="outputContainer" style="display:none;">
      <div class="output-header">
        <span class="output-title">生成結果</span>
        <button id="copyBtn" class="copy-btn">
          <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
          </svg>
          <span id="copyBtnText">コピー</span>
        </button>
      </div>
      <textarea id="output" readonly></textarea>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>